from unittest import TestCase

from arclength.qss import QSS3ArcLength


class QSS3ArcLengthTest(TestCase):
    
    def test_qss3_arc_length(self):
        v_x = [([1e-09, 299.49220799999995, 0.0], 3.338985032959523e-12, 0.0001798411682143429),
               ([0.05386102855781296, 299.49220799999995, 0.0], 0.0001798411682143429, 0.00018312001049508247),
               ([0.05484301527215542, 299.4918974876294, -1.6956768936583553], 0.00018312001049508247, 0.00044406267565872),
               ([0.1329930588940154, 299.4903820207395, -4.111985448312416], 0.00044406267565872, 0.0007946377036412097), 
               ([0.237986269583632, 299.4863608311861, -7.358282632527043], 0.0007946377036412097, 0.0012202576306005995)]
        
        v_y = [([0.0, 0.0, 0.0], 4.246084077778041e-13, 9.215296064456033e-07),
               ([-1.0000000000000003e-09, -0.0021703046608719913, -1177.5555802504223], 9.215296064456033e-07, 0.00018026477807353802),
               ([-3.8265128078795156e-05, -0.4245435906861973, -1177.5555802504223], 0.00018026477807353802, 0.0004398441161410908),
               ([-0.0002278132544718423, -1.0358817868045125, -1177.5555802504223], 0.0004398441161410908, 0.0006545457810825748),
               ([-0.0005044993486567719, -1.5415216488653722, -1177.5416600529918], 0.0006545457810825748, 0.000789305469842924)]
        
        arclength = QSS3ArcLength(v_x, v_y).value()
        str_arclength = '%.5f' % arclength
        
        self.assertEquals(str_arclength, '0.23639')